ext exit: |uint| -> none = "exit"

def panic(s: string) none =
    log "panic: {s}"
    exit 1

def assert(b: bool, message: string) =
    if not b then
        panic "Assertion failed: {message}"

def toString[T: Stringer](s: T) string =
    s.toString!

ext c_log: |string| -> none = "_global_c_log"

def log[T: Stringer](s: T) =
    c_log s.toString!
