import "ecs"

type Cacher with
    def get_filename() string
    def get_entity() &ecs.Entity
    def render()
    def update()

def in_cache[T: Cacher](store: &ecs.Store[T], filename: string) Maybe[&T] =
    items := store.get_all_active!

    for item := items do
        if item.get_filename! == filename then
            return Some item

    None