import "window"
from "math" import all
import "buffer"
import "gi"
import "shader"
import "opengl"
import "imageLoader"
import "modelLoading"
import "runner"
from "materialSystem" import all
import "ibl"
import "ecs"

wet_street_params := [
    Param_Image "material.diffuse", imageLoader.load "assets/wet_street/Pebble_Wet_street_basecolor.jpg"
    Param_Image "material.metallic", imageLoader.load "assets/wet_street/Pebble_Wet_street_metallic.jpg"
    Param_Image "material.roughness", imageLoader.load "assets/wet_street/Pebble_Wet_street_roughness.jpg"
    Param_Image "material.normal", imageLoader.load "assets/wet_street/Pebble_Wet_street_Normal_Map.jpg"
]

wet_street := box Material{
    name = "DefaultMaterial"
    shader = shader.make "assets/shaders/pbr.vert", "assets/shaders/pbr.frag"
    params = &wet_street_params
}

materials.append wet_street
model := modelLoading.load_model "assets/cube.fbx"

mesh_renderer := modelLoading.make_ModelRenderer modelLoading.ModelRenderer{
    entity = ecs.make_Entity!
    model = &model
}

log "running"

runner.get_game!.init!
