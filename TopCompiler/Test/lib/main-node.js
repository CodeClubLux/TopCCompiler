function main_nodeInit(){var d=0;return function c(b){while(1){switch (d){case 0:http_nodeInit();main__read = server_readFile;main_quit = process.exit;main_server = http_server(main_requestHandler);d=5;return (main_server).listen(http_port,c);case 5:log((((("started web server on port ")+((http_port)).toString()))+("").toString()));html_nodeInit();main_onChange= typeof html_onChange=='undefined'||html_onChange;main_app= typeof html_app=='undefined'||html_app;main_style= typeof html_style=='undefined'||html_style;main_render= typeof html_render=='undefined'||html_render;main_onClick= typeof html_onClick=='undefined'||html_onClick;main_comp= typeof html_comp=='undefined'||html_comp;main_mapView= typeof html_mapView=='undefined'||html_mapView;main_toEffect= typeof html_toEffect=='undefined'||html_toEffect;main_unique = main_for.bind(null,((function(main_elem, main_indiv){;return (function(){if((!((main_indiv).has(main_elem)))){return [(Some(main_elem)),(main_indiv).append(main_elem)];}
else{return [None,main_indiv];}})();})),EmptyVector);main_sort = function(arr){
    return fromArray(arr.toArray().sort(function(x,y){
        return x > y
    } ));
} ;main__console = console.log;main_math = (function(main_x, main_a){;return main_div(EmptyVector,newVector(main_input(newVector(main_onChange(main_enter,main_a)),""),main_answer(main_x)));});main_appState = newAtom((previousState).arg);;return;}}}()}var main__read;var main_quit;var main_server;var main_unique;var main_sort;var main__console;var main_math;var main_appState;var main_h1;var main_onChange;var main_input;var main_span;var main_p;var main_br;var main_button;var main_app;var main_div;var main_style;var main_render;var main_onClick;var main_comp;var main_mapView;var main_toEffect;function main_read(main_path,c){var main_Some;var main_x;var main_None;var g=0;return function f(d){while(1){switch(g){case 0:g=1;return main__read(main_path,f);case 1:;return c(function(){var h=d; if (h[0]==0){var main_x=h[1];return main_x;} if (h[0]==1){log(("cannot find file, "+main_path));return main_quit(1);}}());}}}()}function main_requestHandler(main_req,c){var main_Some;var main_content;var main_None;var g=0;return function f(d){while(1){switch(g){case 0:log(("request, "+(main_req).url));var h=(main_req).url; if (h=="/"){g=3;return main__read("EC.html",f);}/*case*/g=4;break;/*case*/case 3:d=function(){var j=d; if (j[0]==0){var main_content=j[1];return core_assign(http_response,{body:main_content,contentType:"text/html"});} if (j[0]==1){return core_assign(http_response,{status:404});}}();g=2;/*block*/break;/*if*/case 4:/*notif*/ if (1){d=core_assign(http_response,{status:404,body:"404 Page not found"});g=2;/*block*/break;}case 2:;return c(d);}}}()}function main_Result(f){this[0]=f}function main_Data(c){var f = new main_Result(0);f[1]=c;return f}var main_Error= new main_Result(1);function main_for(main_func, main__state, main_arr){var main_state;main_state = main__state;var main_new;main_new = EmptyVector;var main_length;main_length = (main_arr).length;var main_i;main_i = 0;
while((main_i<main_length)){var main_tx;main_tx = main_func(main_arr.get(main_i),main_state);var main_t;main_t = (main_tx)[0];main_state=(main_tx)[1];main_new=function(){var c=main_t; if (c[0]==0){var main_tmp=c[1];return (main_new).append(main_tmp);} if (c[0]==1){return main_new;}}();main_i=((main_i+1)|0);};return main_new;}main_Result.prototype.withDefault=(function(c){return main_Result_withDefault(this,c)});function main_Result_withDefault(main_self, main_default){;return function(){var d=main_self; if (d[0]==0){var main_x=d[1];return main_x;} if (d[0]==1){return main_default;}}();}main_Result.prototype.map=(function(c){return main_Result_map(this,c)});function main_Result_map(main_self, main_func){;return function(){var d=main_self; if (d[0]==0){var main_x=d[1];return main_Data(main_func(main_x));} if (d[0]==1){return main_Error;}}();}function main_median(main_x){var main_length;main_length = (main_x).length;var main_tmp;main_tmp = main_sort(main_x);;return (function(){if((((main_length%2)|0)===0)){return (((main_tmp.get(((main_length/2)|0))+main_tmp.get(((((main_length/2)|0)-1)|0))))/2.0);}
else{return main_tmp.get((((((main_length-1)|0))/2)|0));}})();}function main_average(main_x){;return (((main_x).reduce((operator_add)))/toFloat((main_x).length));}function main_debug(main_x){main__console((main_x).toString());;return main_x;}function main_mode(main_x){var main_uniques;main_uniques = (main_unique(main_x));var main_u;main_u = (main_uniques).map((function(main_i){;return [(((("")+((main_i)).toString()))+("").toString()),(((main_x).filter(operator_eq.bind(null,main_i)))).length,0];}));var main_count;main_count = (main_u).reduce((function(main_a, main_b){;return (function(){if(((main_a)[1]>(main_b)[1])){return main_a;}else if(((main_a)[1]===(main_b)[1])){return ["b",(main_b)[1],(((main_a)[2]+1)|0)];}
else{return main_b;}})();}));var main__;main__ = main_debug((main_count)[2]);;return (function(){if(((main_count)[2]===(((main_uniques).length-1)|0))){return "n";}
else{return (main_count)[0];}})();}function main_enter(main_x, main_ev,c){var g=0;return function f(d){while(1){switch(g){case 0:;return c(parseJson(core_json_vector(core_json_float),(((("[")+((((main_ev).target).value)).toString()))+("]").toString())));}}}()}